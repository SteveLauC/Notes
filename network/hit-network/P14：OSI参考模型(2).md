> 本节课主要讲一下3个非端到端的层的具体功能，物理层/数据链路层/网络层

### 物理层功能

简单地讲：物理层功能就是实现比特流在传输介质上的传输

具体来讲：

1. 定义和规范一些接口特性

   > 例如机械特性，电气特性，功能特性，规程特性等

2. 解决比特编码问题

   > 在传输介质上用什么来表示0，用什么来表示1，解决比特编码问题

3. 定义数据传输速率，数据率

   > 要在传输介质上以多快的速度发送比特

4. 解决比特同步

   > 发送端发一个比特接受端就可以接收一个比特

5. 定义传输模式

   > 在物理上传输比特，按照什么样的方式传输，按照什么模式传输

   主要有3种模式：

   1. 单工模式(Simplex)：单向传输，A可以给B发，B不可以给A发

   2. 半双工模式(half-duplex)：可以双向通信，但是A给B发的时候，B就不能给A发，等A不给B发，B才可以发。

      > 对讲机就是典型的半双工通信，当你听的时候，就不可以说，说的时候就不可以听

   3. 全双工模式(full-duplex)：可以双向通信，且可以同时双向通信



### 数据链路层功能

* 负责结点-结点(node-to-node)数据传输

  > 这个结点和结点是什么，是物理链路直接相连的两个主机或者中间系统

* 组帧(framing)

  > 组帧就是在数据链路层添加DH和DT，加头加尾，成为一个帧，这个头和尾就是一个帧的开始和结束，用来**划分帧**。
  >
  > 组帧有什么用？可以在传输比特流的时候**能够区分出这是一个帧，那是另外一个帧**，不会在比特流中乱掉，能将比特流切开。而且也可以让目标链路上的主机按协议拆掉DTDH，拿到N-PDU好往上传播

* 物理寻址(physicial addressing)

  > 到了物理层就是纯bit了，并不知道要谁来接收这些个帧，所以要在数据链路层决定好
  >
  > 在帧头(DH)中增加发送端/接收端的物理地址标识数据帧的发送端/接受端
  >
  >  
  >
  > 你可能会问，数据链路层负责的就是物理传输介质两端的结点进行通信的啊，那就像我打电话一样，打出去就是那个人接受啊，为什么要去加一个地址呢？
  >
  > 因为很多很多链路都是一条线路上链接有好几个主机的，所以需要地址

* 流量控制(Flow control)

  > 避免发送端速度太快，接受端速度太慢，发过去的数据太多，接受端要进行缓存，缓存还满了还来数据丢失，将接受端淹没问题的发生

* 差错控制(Error control)

  > 检测并重传损坏或丢失帧，并避免重复帧

* 访问(接入)控制(access control)

  > 在任一给定时刻决定哪个设备拥有链路(物理介质)控制使用权，避免在一个设备使用时，另一个设备也要用，发生碰撞



### 网络层功能

* 总的来说，是负责源主机到目的主机数据分组(packet)交付

* 逻辑寻址(logical addressing)

  > 因为传输过程中是要夸越多个网络的，所以链路层的物理寻址就没有什么用了。就好比你想给一个人发邮件，知道他在班级里的编号肯定是不行的
  >
  >  
  >
  > 是全局唯一逻辑地址，要确保数据分组被送达目的主机，如IP地址

* 路由(routing)

  > 路由分组到最终的目的主机，选择好路径

* 分组转发

  > 有一个路由器发到另一个路由器，在转发的过程中，逻辑寻址是不变的(目的地不变)，链路上的地址是变化的(路上会变路)

> 网络层的功能和路由器比较贴近，恰好，网络层是中间系统路由设备的最高一层。