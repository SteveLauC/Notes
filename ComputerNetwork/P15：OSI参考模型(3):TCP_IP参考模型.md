> 学习4个端到端层：应用层/表示层/会话层/传输层的功能
>
> 以及TCP参考模型  	5层网络结构



## 四个端到端层的功能

### 传输层 功能

* 分段和重组

  > 会话层传下来的S-PDU会被拆分成3个段(例如3段)，然后段上+TH，变为3个T-PDU，交给网络层。
  >
  > 与此相反的，它也可以接受网络层的3个T-PDU，然后去头变为段，再将段重组为S-PDU

* SAP寻址

  > 传输层是负责端到端的通信，也就是进程间的通信的。需要确保将完整报文提交给正确的进程，如端口号
  >
  > 这个**址**是在TH里面的，

* 连接控制

  > 传输层作为端到端层的最底下一层，负责和端之间进行连接，但并不是电路交换里的那种连接，而是一种逻辑上的连接

* 流量控制

* 差错控制



### 会话层 功能

> 会话层的功能就是将表示层传下来的P-PDU，加SH变为S-PDU，交给传输层
>
> 会话层并没有像传输层一样，对上一层传下来的数据进行拆分，而仅仅是在内部插入了一些信息，然后加上头

* 对话控制(dialog control)

  > 控制两个主机间会话的建立和维护

* 同步(synchronization)

  > 在数据流中插入同步点，当数据传输失败时，仅需从最近的同步点继续传输就行了

> 事实上，会话层的功能是最少的，甚至在internet结构中都没有会话层这个层，被其他层吸收了



### 表示层 功能

> 表示层处理端到端系统间交换信息的**语法和语义问题**

* 数据表示转化

  > 有的主机是大端序，有的主机是小端序，那么直接将字节完全拷贝给目的主机，目的主机看不懂，表示层就可以解决这个问题。
  >
  > 它将数据转换为一种**独立于主机**的编码，然后到了目的主机，目的主机的表示层再去按目的主机可以理解的方式去解码，这样目的主机就能看懂数据了

* 加密解密

* 压缩解压缩



### 应用层 功能

* 支持用户通过用户代理(如浏览器)或网络接口使用网络(服务)

> 典型的应用层服务：
>
> * 文件传输：FTP
> * 电子邮件：SMTP
> * web应用：HTTP

​    



## TCP/IP参考模型

TCP/IP参考模型共有4层，应用层/运输层/网际层/网络接口层

TCP/IP是围绕着IP进行的，IP是重点，IP可应用到各式各样的网络上



> 在OSI和TCP/IP的基础上，5层参考模型出世了



## 5层参考模型

> 5层参考模型从下到上是：物理层/数据链路层/网络层/传输层/应用层，相比于OSI参考模型来说去掉了表示层和会话层
>
>  
>
> 5层参考模型综合了OSI和TCP/IP的优点

* 应用层：支持各种网络应用

  > FTP，SMTP，HTTP

* 传输层：进程-进程的数据传输

  > TCP，UDP

* 网络层：源主机到目的主机的数据的分组路由和转发

  > IP协议，路由协议等

* 链路层：相邻网络元素(主机，交换机，路由器等)的数据传输

  > 以太网，Wi-Fi，PPP

* 物理层：比特传输



### 5层模型的数据封装

> 源主机和目的主机需要完成**5层协议**，交换机仅需要完成**最下2层物理层和数据链路层**，路由器需要完成**最下3层物理层数据链路层网络层**
>
>  
>
> 交换机和路由器的所需完成的层数不同，可以很好地反映出两者功能的不同，在以后会讲。



数据报：在网络层做好的东西叫做数据报

数据帧/帧：在链路层做好的东西

段：在传输层做好的东西









